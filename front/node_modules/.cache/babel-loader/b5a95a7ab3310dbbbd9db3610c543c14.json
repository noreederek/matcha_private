{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Location.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Location.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9nb2luZnJlL25kZXJlay9tYXRjaGFfcHJpdmF0ZS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFjdGlvbnMsIHN0YXRlIH0gZnJvbSAiQC9zdG9yZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJ1c2VyIiwgIm15cHJvZmlsZSJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwZXJtaXNzaW9uQ2hlY2s6IGZhbHNlLAogICAgICBzaG93TG9jYXRpb246IGZhbHNlLAogICAgICBsb2NhdGlvbk5hbWU6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcG9zOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlTG9jOiBmdW5jdGlvbiBjaGFuZ2VMb2MoKSB7CiAgICAgIHRoaXMucGVybWlzc2lvbkNoZWNrID0gdHJ1ZSAmJiB0aGlzLm15cHJvZmlsZTsKCiAgICAgIGlmICh0aGlzLm15cHJvZmlsZSkgewogICAgICAgIHRoaXMuc2hvd0xvY2F0aW9uID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB1c2VJUDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VzZUlQID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbkNoZWNrID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLmxvY2F0aW9uLmlwKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRoaXMucG9zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVzZUlQKCkgewogICAgICAgIHJldHVybiBfdXNlSVAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVzZUlQOwogICAgfSgpLAogICAgdXNlR1BTOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXNlR1BTID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uQ2hlY2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLmxvY2F0aW9uLmJyb3dzZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdGhpcy5wb3MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXNlR1BTKCkgewogICAgICAgIHJldHVybiBfdXNlR1BTLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1c2VHUFM7CiAgICB9KCksCiAgICBnZXRMb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExvY2F0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMubG9jYXRpb24ubmFtZSh0aGlzLnBvcyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25OYW1lID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2NhdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TG9jYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMb2NhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0TG9jYXRpb247CiAgICB9KCksCiAgICB1cGRhdGVMb2NhdGlvbjogZnVuY3Rpb24gdXBkYXRlTG9jYXRpb24oKSB7CiAgICAgIHRoaXMudXNlci5sYXRpdHVkZSA9IHRoaXMucG9zLmxhdDsKICAgICAgdGhpcy51c2VyLmxvbmdpdHVkZSA9IHRoaXMucG9zLmxvbmc7CiAgICAgIHRoaXMuJGVtaXQoInN5bmMiKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCF0aGlzLnVzZXIubGF0aXR1ZGUgfHwgIXRoaXMudXNlci5sb25naXR1ZGUpIHsKICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbkNoZWNrID0gdHJ1ZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBvcyA9IHsKICAgICAgICAgICAgICAgICAgICBsYXQ6IF90aGlzLnVzZXIubGF0aXR1ZGUsCiAgICAgICAgICAgICAgICAgICAgbG9uZzogX3RoaXMudXNlci5sb25naXR1ZGUKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmdldExvY2F0aW9uKCk7CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCkKfTs="},{"version":3,"sources":["Location.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,OAAA,EAAA,KAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,WAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,GAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,eAAA,GAAA,QAAA,KAAA,SAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;AACA,KANA;AAQA,IAAA,KAAA;AAAA,2EAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,eAAA,GAAA,KAAA;AADA;AAAA,uBAEA,OAAA,CAAA,QAAA,CAAA,EAAA,EAFA;;AAAA;AAEA,qBAAA,GAFA;AAGA,qBAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OARA;AAaA,IAAA,MAAA;AAAA,4EAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,eAAA,GAAA,KAAA;AADA;AAAA,uBAEA,OAAA,CAAA,QAAA,CAAA,OAAA,EAFA;;AAAA;AAEA,qBAAA,GAFA;AAGA,qBAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAbA;AAkBA,IAAA,WAAA;AAAA,iFAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,GAAA,CADA;;AAAA;AACA,qBAAA,YADA;AAEA,qBAAA,YAAA,GAAA,IAAA;AACA,qBAAA,OAAA,GAAA,KAAA;AACA,qBAAA,cAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAlBA;AAwBA,IAAA,cAAA,EAAA,0BAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,KAAA,GAAA,CAAA,GAAA;AACA,WAAA,IAAA,CAAA,SAAA,GAAA,KAAA,GAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,MAAA;AACA;AACA;AA7BA,GAXA;AA0CA,EAAA,OAAA;AAAA,2EAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,kBAAA,CAAA,KAAA,IAAA,CAAA,QAAA,IAAA,CAAA,KAAA,IAAA,CAAA,SAAA,EAAA;AACA,qBAAA,eAAA,GAAA,IAAA;AACA,eAFA,MAEA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,KAAA,CAAA,GAAA,GAAA;AAAA,oBAAA,GAAA,EAAA,KAAA,CAAA,IAAA,CAAA,QAAA;AAAA,oBAAA,IAAA,EAAA,KAAA,CAAA,IAAA,CAAA;AAAA,mBAAA;;AACA,kBAAA,KAAA,CAAA,WAAA;AACA,iBAHA,EAGA,GAHA,CAAA;AAIA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA1CA,CAAA","sourcesContent":["<template>\n  <div class=\"mb-4\">\n    <h4 style=\"font-weight: 700\" class=\"my-3\" @click=\"changeLoc\">Location</h4>\n    <div class=\"d-flex flex-row flex-wrap justify-content-center my-2\">\n      <div v-if=\"showLocation\" @click=\"changeLoc\" title=\"Click to update location\">\n        {{ locationName }}\n        <div v-if=\"loading\">\n          <b-spinner variant=\"primary\" label=\"Spinning\"></b-spinner>\n        </div>\n      </div>\n      <div class=\"mx-5\" v-if=\"permissionCheck\">\n        Use GPS for location?\n\n        <div class>\n          <b-button class=\"bg-danger border-danger m-2\" @click=\"useIP()\">No</b-button>\n          <b-button class=\"bg-success border-success m-2\" @click=\"useGPS()\">Yes</b-button>\n        </div>\n\n        <span class=\"small\">If you select \"NO\" the app will try to allocate a location for you.<br>\n        The accuracy of this placement will be low and may affect the match recommendations you receive.</span>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport {actions, state} from \"@/store\"\n\nexport default {\n  props: [\"user\", \"myprofile\"],\n  data() {\n    return {\n      permissionCheck: false,\n      showLocation: false,\n      locationName: '',\n      loading: false,\n      pos: null\n    }\n  },\n  methods: {\n    changeLoc: function () {\n      this.permissionCheck = true && this.myprofile\n      if (this.myprofile) {\n        this.showLocation = false\n      }\n    },\n\n    useIP: async function () {\n      this.permissionCheck = false\n      this.pos = await actions.location.ip()\n      this.getLocation()\n    },\n    useGPS: async function () {\n      this.permissionCheck = false\n      this.pos = await actions.location.browser()\n      this.getLocation()\n    },\n    getLocation: async function () {\n      this.locationName = await actions.location.name(this.pos)\n      this.showLocation = true\n      this.loading = false\n      this.updateLocation()\n    },\n    updateLocation: function () {\n      this.user.latitude = this.pos.lat\n      this.user.longitude = this.pos.long\n      this.$emit(\"sync\")\n      return\n    }\n  },\n  mounted: async function () {\n    \n    if (!this.user.latitude || !this.user.longitude) {\n      this.permissionCheck = true\n    } else {\n      setTimeout(() => {\n        this.pos = {lat: this.user.latitude, long: this.user.longitude}\n        this.getLocation()\n      }, 100);\n    }\n  }\n}\n</script>"],"sourceRoot":"src/components/profile-components"}]}