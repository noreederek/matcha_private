{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Actions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Actions.vue","mtime":1605306440450},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgYWN0aW9ucywgc3RhdGUgfSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IFJlcG9ydCBmcm9tICdAL2NvbXBvbmVudHMvcHJvZmlsZS1jb21wb25lbnRzL1JlcG9ydCc7CmltcG9ydCBSYXRlIGZyb20gJ0AvY29tcG9uZW50cy9wcm9maWxlLWNvbXBvbmVudHMvUmF0ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJ1c2VyIl0sCiAgY29tcG9uZW50czogewogICAgUmVwb3J0OiBSZXBvcnQsCiAgICBSYXRlOiBSYXRlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVsYXRpb25zaGlwOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlrZVVzZXI6IGZ1bmN0aW9uIGxpa2VVc2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgiIi5jb25jYXQodGhpcy4kYXBpLCAiL21hdGNoZXMiKSwgewogICAgICAgICJtYXRjaGVlX2lkIjogdGhpcy51c2VyLmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGFjdGlvbnMubm90aWZ5LmluZm8ocmVzLmRhdGEubWVzc2FnZSk7CgogICAgICAgIF90aGlzLmNoZWNrTWF0Y2goKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmIChlcnIucmVzcG9uc2UuZGF0YS5ub19waG90bykgewogICAgICAgICAgYWN0aW9ucy5ub3RpZnkuZXJyb3IoZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFjdGlvbnMubm90aWZ5LmVycm9yKGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdW5tYXRjaDogZnVuY3Rpb24gdW5tYXRjaCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5kZWxldGUoIiIuY29uY2F0KHRoaXMuJGFwaSwgIi91bm1hdGNoLyIpLmNvbmNhdCh0aGlzLnVzZXIuaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBhY3Rpb25zLm5vdGlmeS53YXJuaW5nKCJVc2VyIHJlbGF0aW9uc2hpcCByZW1vdmVkLiBZb3Ugd2lsbCBubyBsb25nZXIgc2VlIHRoaXMgdXNlciBvbiB0aGUgc2l0ZS4iKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9LCAxNTAwKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGFjdGlvbnMubm90aWZ5LmVycm9yKCJDb3VsZCBub3QgcmVtb3ZlIHVzZXIgcmVsYXRpb25zaGlwLiBQbGVhc2UgY29udGFjdCBhbiBhZG1pbi4gIiArIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrTWF0Y2g6IGZ1bmN0aW9uIGNoZWNrTWF0Y2goKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCIiLmNvbmNhdCh0aGlzLiRhcGksICIvbWF0Y2gvIikuY29uY2F0KHRoaXMudXNlci5pZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5yZWxhdGlvbnNoaXAgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGFjdGlvbnMubm90aWZ5LmVycm9yKCJUaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgc29tZSBkYXRhLiBOb3RpY2Ugb2YgdGhpcyBlcnJvciBoYXMgYmVlbiBzZW50IHRvIGFkbWlucy4iKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jaGVja01hdGNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Actions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,OAAA,EAAA,KAAA,QAAA,SAAA;AACA,OAAA,MAAA,MAAA,wCAAA;AACA,OAAA,IAAA,MAAA,sCAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,IAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,WAAA,KAAA,IAAA,eAAA;AAAA,sBAAA,KAAA,IAAA,CAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,UAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OAXA;AAYA,KAdA;AAgBA,IAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,MAAA,KAAA,CAAA,MAAA,WAAA,KAAA,IAAA,sBAAA,KAAA,IAAA,CAAA,EAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,OAAA,CAAA,0EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA,OANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,kEAAA,GAAA;AACA,OATA;AAUA,KA3BA;AA6BA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,WAAA,KAAA,IAAA,oBAAA,KAAA,IAAA,CAAA,EAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,sFAAA;AACA,OANA;AAOA;AArCA,GAXA;AAkDA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,UAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div v-if=\"relationship\" class=\"mb-3 p-md-2\">\n    <Report class=\"small mt-1 mb-3\" :user=\"user\"/>\n    <div v-if=\"relationship.matched && relationship.liked\">\n      <b-card class=\"border-none shadow-sm rounded text-dark\" >\n        Things are looking <span class=\"text-secondary\"><strong>HOT</strong></span> in here.<br>You should get chatting.<br><hr>\n        <b-link>Go to chat</b-link><hr>\n        <Rate :user=\"user\" /><hr>\n        <b-link @click=\"unmatch\" class=\"text-danger\">UNMATCH</b-link>\n      </b-card>\n    </div>\n    <div v-else-if=\"!relationship.matched && relationship.liked\">\n      <b-card class=\"border-none shadow-sm rounded text-dark\" >\n        You've already <span class=\"text-secondary\" style=\"font-weight: 700px\"><strong>LIKED</strong></span> this user.<br>Fingers crossed they'll like you back.<br><hr>\n        <b-link @click=\"unmatch\" class=\"text-danger\">UNLIKE</b-link>\n      </b-card>\n    </div>\n    <div v-else-if=\"!relationship.matched && !relationship.liked\">\n      <b-card class=\"border-none shadow-sm rounded text-dark\" >\n        This could be the <span class=\"text-secondary\"><strong>ONE</strong></span>.<br>What are you waiting for?<br><hr>\n        <b-link @click=\"likeUser\" class=\"\">LIKE</b-link>\n      </b-card>\n    </div>\n    <div v-else>\n      Could not determine relationship. Please refresh.\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {actions, state} from '@/store'\nimport Report from '@/components/profile-components/Report'\nimport Rate from '@/components/profile-components/Rate'\n\nexport default {\n  props: [\"user\"],\n  components: {\n    Report,\n    Rate\n  },\n  data() {\n    return {\n      relationship: null\n    }\n  },\n  methods: {\n    likeUser: function () {\n      axios.post(`${this.$api}/matches`, {\"matchee_id\" : this.user.id})\n      .then(res => {\n        actions.notify.info(res.data.message)\n        this.checkMatch()\n      })\n      .catch(err => {\n        if (err.response.data.no_photo) {\n          actions.notify.error(err.response.data.message)\n        } else {\n          actions.notify.error(err.response.data.message)\n        }\n      })\n    },\n\n    unmatch: function () {\n      axios.delete(`${this.$api}/unmatch/${this.user.id}`)\n      .then(res => {\n        actions.notify.warning(\"User relationship removed. You will no longer see this user on the site.\")\n        setTimeout(() => {\n          this.$router.go(-1)\n        }, 1500)\n      })\n      .catch(err => {\n        actions.notify.error(\"Could not remove user relationship. Please contact an admin. \" + err)\n      })\n    },\n\n    checkMatch: function () {\n      axios.get(`${this.$api}/match/${this.user.id}`)\n      .then(res => {\n        this.relationship = res.data\n      })\n      .catch(err => {\n        actions.notify.error(\"There was a problem loading some data. Notice of this error has been sent to admins.\")\n      })\n    }\n  },\n  created: function () {\n    this.checkMatch()\n  }\n}\n</script>"],"sourceRoot":"src/components/profile-components"}]}