{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Report.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYWN0aW9ucyB9IGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsidXNlciJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWFzb25zOiBbewogICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgIHRleHQ6ICdXaHkgYXJlIHlvdSByZXBvcnRpbmcgdGhpcyB1c2VyPycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAiZmFrZSBwcm9maWxlIiwKICAgICAgICB0ZXh0OiAiVGhpcyBpcyBhIGZha2UgcHJvZmlsZS4iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogImluYXBwcm9wcmlhdGUgY29udGVudCIsCiAgICAgICAgdGV4dDogIlRoaXMgdXNlcidzIGFjY291bnQgaGFzIGluYXBwcm9wcmlhdGUgY29udGVudC4iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogImhhcmFzc21lbnQiLAogICAgICAgIHRleHQ6ICJJIGZlZWwgdGhhdCB0aGlzIHVzZXIgaGFzIGhhcmFzc2VkIG1lLiIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAidG9vIHNleHkiLAogICAgICAgIHRleHQ6ICJUaGlzIHVzZXIgaXMgdG9vIHNleHkgZm9yIHRoZWlyIHNoaXJ0LiIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAib3RoZXIiLAogICAgICAgIHRleHQ6ICJPdGhlciIKICAgICAgfV0sCiAgICAgIHJlYXNvbjogbnVsbCwKICAgICAgcmVhc29uX3RleHQ6IG51bGwsCiAgICAgIGJsb2NrX3JlcXVlc3Q6IHsKICAgICAgICByZXBvcnRlZF9pZDogdGhpcy51c2VyLmlkLAogICAgICAgIHJlYXNvbjogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVwb3J0OiBmdW5jdGlvbiByZXBvcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5yZWFzb24gIT0gJ290aGVyJyAmJiB0aGlzLnJlYXNvbiAhPSAnaGFyYXNzbWVudCcpIHsKICAgICAgICB0aGlzLmJsb2NrX3JlcXVlc3QucmVhc29uID0gdGhpcy5yZWFzb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ibG9ja19yZXF1ZXN0LnJlYXNvbiA9IHRoaXMucmVhc29uICsgIjogIiArIHRoaXMucmVhc29uX3RleHQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlYXNvbikgewogICAgICAgIHRoaXMuJGh0dHAucG9zdCgiIi5jb25jYXQodGhpcy4kYXBpLCAiL2Jsb2NrLXJlcXVlc3RzIiksIHRoaXMuYmxvY2tfcmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5pbmZvKCJZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgcmVwb3J0ZWQgIiArIF90aGlzLnVzZXIudXNlcm5hbWUgKyAiLiBBbiBhZG1pbiB3aWxsIHJldmlldyB5b3VyIHJlcG9ydC4iKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5lcnJvcigiQ291bGQgbm90IHJlcG9ydCAiICsgX3RoaXMudXNlci51c2VybmFtZSArICIuIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbChyZWYpIHsKICAgICAgdGhpcy4kcmVmc1tyZWZdLnNob3coKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,OAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,KAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,KAAA,EAAA,cAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,KAAA,EAAA,uBAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,KAAA,EAAA,YAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,KAAA,EAAA,UAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OALA,EAMA;AAAA,QAAA,KAAA,EAAA,OAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OANA,CADA;AASA,MAAA,MAAA,EAAA,IATA;AAUA,MAAA,WAAA,EAAA,IAVA;AAWA,MAAA,aAAA,EAAA;AACA,QAAA,WAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,QAAA,MAAA,EAAA;AAFA;AAXA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,UAAA,KAAA,MAAA,IAAA,OAAA,IAAA,KAAA,MAAA,IAAA,YAAA,EAAA;AACA,aAAA,aAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,CAAA,MAAA,GAAA,KAAA,MAAA,GAAA,IAAA,GAAA,KAAA,WAAA;AACA;;AAEA,UAAA,KAAA,MAAA,EAAA;AACA,aAAA,KAAA,CAAA,IAAA,WAAA,KAAA,IAAA,sBAAA,KAAA,aAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA,oCAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,qCAAA;AACA,SAHA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,sBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,GAAA;AACA,SANA;AAOA;AACA,KAjBA;AAmBA,IAAA,SAnBA,qBAmBA,GAnBA,EAmBA;AACA,WAAA,KAAA,CAAA,GAAA,EAAA,IAAA;AACA;AArBA;AApBA,CAAA","sourcesContent":["<template>\n  <div>\n    <b-link style=\"text-decoration: underline\" class=\"text-secondary\" @click=\"showModal('report')\">Report User</b-link>\n\n    <b-modal ref=\"report\" title=\"Report User\" @ok=\"report\">\n      <div class=\"text-center my-3\">\n        Reporting a user will send a request to admin for review.<br>\n        The admin may choose to block the reported user, after which you will no longer be able to view their profile.\n      </div>\n      <div class=\"d-flex flex-column justify-content-center align-items-center text-center\">\n        <b-form-select\n          class=\"ml-2 col-5 col-8\"\n          v-model=\"reason\"\n          :options=\"reasons\"\n        ></b-form-select>\n        <b-form-group\n          label=\"Provide Reason:\"\n          label-for=\"input-1\"\n          v-if=\"reason === 'other'\"\n          class=\"w-75 my-3 mb-2\"\n        >\n          <b-form-textarea id=\"input-1\" v-model=\"reason_text\" class=\"my-3\"></b-form-textarea>\n        </b-form-group>\n        <b-form-group\n          label=\"Please Describe:\"\n          label-for=\"input-1\"\n          v-if=\"reason === 'harassment'\"\n          class=\"w-75 my-3 mb-2\"\n        >\n          <b-form-textarea id=\"input-1\" v-model=\"reason_text\" class=\"my-3\"></b-form-textarea>\n        </b-form-group>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport {actions} from '@/store'\n\nexport default {\n  props: [\"user\"],\n  data() {\n    return {\n      reasons: [\n        { value: null, text: 'Why are you reporting this user?' },\n        { value: \"fake profile\", text: \"This is a fake profile.\" },\n        { value: \"inappropriate content\", text: \"This user's account has inappropriate content.\" },\n        { value: \"harassment\", text: \"I feel that this user has harassed me.\" },\n        { value: \"too sexy\", text: \"This user is too sexy for their shirt.\" },\n        { value: \"other\", text: \"Other\" }\n      ],\n      reason: null,\n      reason_text: null,\n      block_request: {\n        reported_id: this.user.id,\n        reason: null\n      }\n    }\n  },\n  methods: {\n    report: function () {\n      if (this.reason != 'other' && this.reason != 'harassment') {\n        this.block_request.reason = this.reason\n      } else {\n        this.block_request.reason = this.reason + \": \" + this.reason_text\n      }\n\n      if (this.reason) {        \n        this.$http.post(`${this.$api}/block-requests`, this.block_request)\n        .then(res => {\n          actions.notify.info(\"You have successfully reported \" + this.user.username + \". An admin will review your report.\")\n        })\n        .catch(err => {\n          actions.notify.error(\"Could not report \" + this.user.username + \".\")\n        })\n      }\n    },\n\n    showModal(ref) {\n      this.$refs[ref].show()\n    }\n  }\n}\n</script>"],"sourceRoot":"src/components/profile-components"}]}