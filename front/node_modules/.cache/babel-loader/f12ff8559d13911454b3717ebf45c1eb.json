{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/Settings.vue","mtime":1605306440453},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdkJhciBmcm9tICdAL2NvbXBvbmVudHMvTmF2QmFyLnZ1ZSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlck5hdi52dWUnOwppbXBvcnQgQ2hhbmdlUGFzc3dvcmQgZnJvbSAnQC9jb21wb25lbnRzL0NoYW5nZVBhc3N3b3JkLnZ1ZSc7CmltcG9ydCBSZXNldFBhc3N3b3JkIGZyb20gJ0AvY29tcG9uZW50cy9SZXNldFBhc3N3b3JkLnZ1ZSc7CmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdAL2NvbXBvbmVudHMvQ2hhbmdlVXNlcm5hbWUudnVlJzsKaW1wb3J0IENoYW5nZUVtYWlsIGZyb20gJ0AvY29tcG9uZW50cy9DaGFuZ2VFbWFpbC52dWUnOwppbXBvcnQgeyBhY3Rpb25zLCBzdGF0ZSB9IGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NldHRpbmdzJywKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlciwKICAgIE5hdkJhcjogTmF2QmFyLAogICAgQ2hhbmdlUGFzc3dvcmQ6IENoYW5nZVBhc3N3b3JkLAogICAgUmVzZXRQYXNzd29yZDogUmVzZXRQYXNzd29yZCwKICAgIENoYW5nZVVzZXJuYW1lOiBDaGFuZ2VVc2VybmFtZSwKICAgIENoYW5nZUVtYWlsOiBDaGFuZ2VFbWFpbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUudXNlcikpCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXNlciA9IGFjdGlvbnMuc25hcHNob3RVc2VyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbChyZWYpIHsKICAgICAgdGhpcy4kcmVmc1tyZWZdLnNob3coKTsKICAgIH0sCiAgICBzeW5jVXNlcjogZnVuY3Rpb24gc3luY1VzZXIoKSB7CiAgICAgIGFjdGlvbnMuc3luY1VzZXIodGhpcy51c2VyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5zdWNjZXNzKCJVc2VybmFtZSBjaGFuZ2VkIHRvICIgKyBzdGF0ZS51c2VyLnVzZXJuYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWN0aW9ucy5ub3RpZnkuZXJyb3IoIlVzZXJuYW1lIGNvdWxkIG5vdCBiZSBjaGFuZ2VkLiIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlRW1haWw6IGZ1bmN0aW9uIGNoYW5nZUVtYWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYWN0aW9ucy5zeW5jVXNlcih0aGlzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFjdGlvbnMubG9nb3V0VXNlcigpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,4BAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,SAAA,OAAA,EAAA,KAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,cAAA,EAAA,cAHA;AAIA,IAAA,aAAA,EAAA,aAJA;AAKA,IAAA,cAAA,EAAA,cALA;AAMA,IAAA,WAAA,EAAA;AANA,GAFA;AAUA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AADA,KAAA;AAGA,GAdA;AAeA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA,GAAA,OAAA,CAAA,YAAA,EAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,GADA,EACA;AACA,WAAA,KAAA,CAAA,GAAA,EAAA,IAAA;AACA,KAHA;AAKA,IAAA,QAAA,EAAA,oBAAA;AACA,MAAA,OAAA,CAAA,QAAA,CAAA,KAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,OAAA,CAAA,yBAAA,KAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,gCAAA;AACA;AACA,OAPA;AAQA,KAdA;AAgBA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,MAAA,OAAA,CAAA,QAAA,CAAA,KAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,OAAA,CAAA,UAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAJA;AAKA;AAtBA;AAlBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"header\">\n      <Header/>\n    </div>\n    <div class=\"content\">\n      <div class=\"max-w-90 d-flex justify-content-center\">\n        <b-col sm=\"auto\" md=\"6\" lg=\"4\" class=\"rounded-lg shadow bg-light\">\n          <h3 class=\"my-3\">Settings</h3>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.username>Change Username</b-button>\n            <b-collapse id=\"username\" class=\"mt-2\">\n              <b-card>\n                <ChangeUsername :user=\"user\" @sync=\"syncUser\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n          \n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.email>Change Email</b-button>\n            <b-collapse id=\"email\" class=\"m-2\">\n              <b-card>\n                <ChangeEmail :user=\"user\" @changeEmail=\"changeEmail\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.password>Change Password</b-button>\n            <b-collapse id=\"password\" class=\"mt-2\">\n              <b-card>\n                <ChangePassword/>\n              <a @click.prevent=\"showModal('reset')\" class=\"my-1 small text-secondary display-8\">Forgot password?</a>\n\n              <b-modal ref=\"reset\" hide-footer title=\"Reset your Password\">\n                <div class=\"d-block text-center\">\n                  <ResetPassword/>\n                </div>\n              </b-modal>\n              </b-card>\n            </b-collapse>\n          </div>\n        </b-col>\n      </div>\n\n    </div>\n    <div class=\"footer\">\n      <NavBar/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Header from '@/components/HeaderNav.vue'\nimport ChangePassword from '@/components/ChangePassword.vue'\nimport ResetPassword from '@/components/ResetPassword.vue'\nimport ChangeUsername from '@/components/ChangeUsername.vue'\nimport ChangeEmail from '@/components/ChangeEmail.vue'\nimport {actions, state} from '@/store'\n\nexport default {\n  name: 'settings',\n  components: {\n    Header,\n    NavBar,\n    ChangePassword,\n    ResetPassword,\n    ChangeUsername,\n    ChangeEmail\n  },\n  data: function () {\n    return {\n      user: JSON.parse(JSON.stringify(state.user))\n    }\n  },\n  mounted: function () {\n    this.user = actions.snapshotUser()\n  },\n  methods: {\n    showModal(ref) {\n      this.$refs[ref].show()\n    },\n\n    syncUser: function () {\n      actions.syncUser(this.user)\n      .then((res) => {\n        if (res) {\n          actions.notify.success(\"Username changed to \" + state.user.username)\n        } else {\n          actions.notify.error(\"Username could not be changed.\");\n        }\n      })\n    },\n\n    changeEmail: function () {\n      actions.syncUser(this.user)\n      .then(() => {\n        actions.logoutUser()\n        this.$router.push('/login')\n      })\n    }\n  }\n}\n</script>\n\n\n<style>\n@import '../assets/styles/ViewStyles.css';\n</style>"],"sourceRoot":"src/views"}]}