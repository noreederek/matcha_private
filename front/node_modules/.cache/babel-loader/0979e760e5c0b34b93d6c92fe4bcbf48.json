{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Interests.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Interests.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvZ29pbmZyZS9uZGVyZWsvbWF0Y2hhX3ByaXZhdGUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVm9lcnJvVGFnc0lucHV0IGZyb20gJ0B2b2Vycm8vdnVlLXRhZ3NpbnB1dCc7CmltcG9ydCB7IGFjdGlvbiwgc3RhdGUgfSBmcm9tICJAL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnRlcmVzdHMiLAogIHByb3BzOiBbInVzZXIiLCAibXlwcm9maWxlIl0sCiAgY29tcG9uZW50czogewogICAgInRhZ3MtaW5wdXQiOiBWb2Vycm9UYWdzSW5wdXQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWdzRWRpdDogZmFsc2UsCiAgICAgIGF2YWlsYWJsZVRhZ3M6IFtdLAogICAgICBzZWxlY3RlZFRhZ3M6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGludGVyZXN0czogZnVuY3Rpb24gaW50ZXJlc3RzKCkgewogICAgICB2YXIgaW50ZXJlc3RzID0gW107CiAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICBpbnRlcmVzdHMucHVzaChpLnZhbHVlKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBpbnRlcmVzdHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0YWdzT246IGZ1bmN0aW9uIHRhZ3NPbigpIHsKICAgICAgdGhpcy50YWdzRWRpdCA9ICF0aGlzLnRhZ3NFZGl0ICYmIHRoaXMubXlwcm9maWxlOwogICAgfSwKICAgIHNhdmVJbnRlcmVzdHM6IGZ1bmN0aW9uIHNhdmVJbnRlcmVzdHMoKSB7CiAgICAgIHRoaXMuJHByb3BzLnVzZXIuaW50ZXJlc3RzID0gdGhpcy5pbnRlcmVzdHM7CiAgICAgIHRoaXMuJGVtaXQoInN5bmMiKTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBnZXRJbnRlcmVzdHM6IGZ1bmN0aW9uIGdldEludGVyZXN0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgiIi5jb25jYXQodGhpcy4kYXBpLCAiL2luZm8vaW50ZXJlc3RzIikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmF2YWlsYWJsZVRhZ3MgPSBbXTsKICAgICAgICByZXMuZGF0YS5pbnRlcmVzdHMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJlc3QpIHsKICAgICAgICAgIHZhciBrZXkgPSBpbnRlcmVzdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIiAiLCAiLSIpOwoKICAgICAgICAgIF90aGlzLmF2YWlsYWJsZVRhZ3MucHVzaCh7CiAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICB2YWx1ZTogaW50ZXJlc3QKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgYWN0aW9ucy5ub3RpZnkuZXJyb3IoIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyBzb21lIGRhdGEuIE5vdGljZSBvZiB0aGlzIGVycm9yIGhhcyBiZWVuIHNlbnQgdG8gYWRtaW5zLiIpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJlc3RzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLnVzZXIuaW50ZXJlc3RzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRUYWdzLnB1c2goewogICAgICAgICAgICAgICAgICBrZXk6IGksCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["Interests.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,eAAA,MAAA,uBAAA;AACA,SAAA,MAAA,EAAA,KAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,WAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,kBAAA;AADA,GAHA;AAMA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,SAAA,GAAA,EAAA;AACA,WAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,SAAA,CAAA,IAAA,CAAA,CAAA,CAAA,KAAA;AACA,OAFA;AAGA,aAAA,SAAA;AACA;AAPA,GAbA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,WAAA,QAAA,GAAA,CAAA,KAAA,QAAA,IAAA,KAAA,SAAA;AACA,KAHA;AAIA,IAAA,aAAA,EAAA,yBAAA;AAEA,WAAA,MAAA,CAAA,IAAA,CAAA,SAAA,GAAA,KAAA,SAAA;AAEA,WAAA,KAAA,CAAA,MAAA;AACA,WAAA,YAAA;AAEA,KAXA;AAYA,IAAA,YAAA,EAAA,wBAAA;AAAA;;AACA,aAAA,KAAA,KAAA,CAAA,GAAA,WAAA,KAAA,IAAA,sBACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,WAAA,GAAA,OAAA,CAAA,GAAA,EAAA,GAAA,CAAA;;AACA,UAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AAAA,YAAA,GAAA,EAAA,GAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA;AACA,SAHA;AAIA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,sFAAA;AACA,OAVA,CAAA;AAWA;AAxBA,GAtBA;AAgDA,EAAA,OAAA;AAAA,2EAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,YAAA,EADA;;AAAA;AAEA,cAAA,KAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA,SAAA,IAAA,EAAA,EAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,GAAA,EAAA,CAAA;AAAA,kBAAA,KAAA,EAAA;AAAA,iBAAA;AACA,eAFA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"my-4\">\n    <h4 style=\"font-weight: 700\" class=\"my-3\" @click=\"tagsOn()\">Interests</h4>\n    <div class=\"d-flex flex-row flex-wrap justify-content-center my-2\" v-if=\"!tagsEdit\">\n      <div v-for=\"(tag,index) in selectedTags\" @click=\"tagsOn()\" :key=\"index\" class=\"border text-light bg-secondary rounded-pill mx-1 px-3 py-1 my-1\">\n        {{ tag.value }}\n      </div>\n    </div>\n    <tags-input \n      v-if=\"tagsEdit\"\n      element-id=\"tags\"\n      v-model=\"selectedTags\"\n      :typeahead-hide-discard=\"true\"\n      :only-existing-tags=\"false\"\n      :existing-tags=\"availableTags\"\n      :typeahead=\"true\"\n      @tag-removed=\"saveInterests\"\n      @keyup.enter=\"saveInterests\"\n      @blur=\"tagsEdit = false\">\n    </tags-input>\n  </div>\n</template>\n\n<script>\n\nimport VoerroTagsInput from '@voerro/vue-tagsinput';\nimport {action, state} from \"@/store\"\n\nexport default {\n  name: \"Interests\",\n  props: [\"user\", \"myprofile\"],\n  components: {\n    \"tags-input\" : VoerroTagsInput\n  },\n  data: function () {\n    return {\n      tagsEdit: false,\n      availableTags : [],\n      selectedTags: []\n    }\n  },\n  computed: {\n    interests: function () {\n      let interests = []\n      this.selectedTags.forEach(i => {\n        interests.push(i.value)\n      })\n      return interests\n    }\n  },\n  methods: {\n    tagsOn: function () {\n      this.tagsEdit = !this.tagsEdit && this.myprofile\n    },\n    saveInterests: function () {\n\n      this.$props.user.interests = this.interests\n\n      this.$emit(\"sync\")\n      this.$forceUpdate()\n  \n    },\n    getInterests: function () {\n      return this.$http.get(`${this.$api}/info/interests`)\n      .then(res => {\n        this.availableTags = []\n        res.data.interests.forEach(interest => {\n          let key = interest.toLowerCase().replace(\" \", \"-\")\n          this.availableTags.push({key: key, value: interest})\n        })\n      })\n      .catch(err => {\n        actions.notify.error(\"There was a problem loading some data. Notice of this error has been sent to admins.\")\n      })\n    }\n  },\n  mounted: async function () {\n    await this.getInterests()\n    Array.from(this.user.interests || []).forEach(i => {\n      this.selectedTags.push({key: i, value: i})\n    })\n  }\n}\n</script>\n\n<style src='@voerro/vue-tagsinput/dist/style.css'></style>\n<style>\n\n</style>"],"sourceRoot":"src/components/profile-components"}]}