{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js!/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/Matches.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/Matches.vue","mtime":1605306440452},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2dvaW5mcmUvbmRlcmVrL21hdGNoYV9wcml2YXRlL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYWN0aW9ucywgc29ja2V0LCBzdGF0ZSB9IGZyb20gIkAvc3RvcmUiOwppbXBvcnQgTmF2QmFyIGZyb20gJ0AvY29tcG9uZW50cy9OYXZCYXIudnVlJzsKaW1wb3J0IEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVyTmF2LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXI6IE5hdkJhciwKICAgIEhlYWRlcjogSGVhZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb25saW5lOiBzdGF0ZS5vbmxpbmVfdXNlcnMsCiAgICAgIHVzZXI6IHN0YXRlLnVzZXIsCiAgICAgIG1hdGNoZXM6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy5nZXRVc2VyTWF0Y2hlcygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5jaGVja09ubGluZSgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgY29tcHV0ZWQ6IHsKICAgIG9ubGluZVVzZXJzOiBmdW5jdGlvbiBvbmxpbmVVc2VycygpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9ubGluZV91c2VyczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBvbmxpbmVVc2VyczogZnVuY3Rpb24gb25saW5lVXNlcnMobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5jaGVja09ubGluZSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHNvY2tldC5jYWxsLmZldGNoT25saW5lVXNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYXQ6IGZ1bmN0aW9uIGNoYXQodXNlcm5hbWUpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9jaGF0LyIuY29uY2F0KHVzZXJuYW1lKSk7CiAgICB9LAogICAgY2hlY2tPbmxpbmU6IGZ1bmN0aW9uIGNoZWNrT25saW5lKHVzZXJuYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMub25saW5lVXNlcnMpIHJldHVybjsKICAgICAgdGhpcy5vbmxpbmVVc2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh1KSB7CiAgICAgICAgaWYgKF90aGlzLm1hdGNoZXMpIF90aGlzLm1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgcmV0dXJuIG0ub25saW5lID0gbS5pZCA9PT0gdS5pZDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Matches.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,OAAA,EAAA,MAAA,EAAA,KAAA,QAAA,SAAA;AAEA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA,CAAA,YADA;AAEA,MAAA,IAAA,EAAA,KAAA,CAAA,IAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA;AAAA,2EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,OAAA,CAAA,cAAA,EADA;;AAAA;AACA,mBAAA,OADA;AAEA,mBAAA,WAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,KATA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,CAAA,YAAA;AACA;AAHA,GAbA;AAkBA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,MAAA,EAAA,MAAA,EAAA;AACA,WAAA,WAAA;AACA;AAHA,GAlBA;AAuBA,EAAA,OAAA,EAAA,mBAAA;AACA,IAAA,MAAA,CAAA,IAAA,CAAA,gBAAA;AACA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,IAAA,EAAA,cAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,iBAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAAA,EAAA,qBAAA,QAAA,EAAA;AAAA;;AACA,UAAA,CAAA,KAAA,WAAA,EACA;AACA,WAAA,WAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,EACA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,MAAA,GAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA;AAAA,SAAA;AACA,OAHA;AAIA;AAXA;AA1BA,CAAA","sourcesContent":["<template>\n\n    <div>\n        <div class=\"header\"><Header /></div>\n        <div class=\"content\" v-if=\"matches\">\n            <div class=\"max-w-90 d-flex justify-content-center\" v-if=\"user\">\n                <b-col sm=\"auto\" md=\"6\" lg=\"4\" class=\"rounded-lg shadow bg-light\">\n                    <div class=\"matches d-flex flex-column my-3\">\n                        <div class=\"match d-flex flex-row my-1 align-items-center\" @click=\"chat(match.username)\" v-for=\"match in matches\" :key=\"match.index\">\n\n                            <div class=\"w-25\">\n                              <img class=\"avatar shadow\" style=\"height: 72px; width: 72px; object-fit: cover\" v-if=\"match.image64\" :src=\"'data:image/' + match.image_type + ';base64, ' + match.image64\" :alt=\"match.fname\">\n                              <b-avatar v-else class=\"rounded-pill shadow\" size=\"64px\"></b-avatar>\n                            </div>\n\n                            <div class=\"p-3 w-50 text-left\">\n                              <strong>{{match.fname}}</strong> {{ match.lname }}\n                            </div>\n\n                            <div v-if=\"match.online\" class=\"p-3 text-right text-success\">online</div>\n                            <div v-else class=\"p-3 text-center text-danger\">offline <br><span class=\"small\">last seen:<br><span class=\"small\">{{ match.date_lastseen }}</span></span></div>\n                        </div>\n                    </div>\n                </b-col>\n            </div>\n        </div>\n        <div class=\"footer\"><NavBar/></div>\n    </div>\n\n</template>\n\n<script>\n\nimport {actions, socket, state} from \"@/store\"\n\nimport NavBar from '@/components/NavBar.vue'\nimport Header from '@/components/HeaderNav.vue'\n\nexport default {\n    components: { NavBar, Header },\n    data: function () {\n        return {\n            online: state.online_users,\n            user: state.user,\n            matches: null\n        }\n    },\n    mounted: async function () {\n        this.matches = await actions.getUserMatches()\n        this.checkOnline()\n    },\n    computed: {\n        onlineUsers: function () {\n            return state.online_users\n        }\n    },\n    watch: {\n        onlineUsers: function (newVal, oldVal) {\n            this.checkOnline()\n        }\n    },\n    created: function () {\n        socket.call.fetchOnlineUsers()\n    },\n    methods: {\n        chat: function (username) {\n            this.$router.push(`/chat/${username}`)\n        },\n        checkOnline: function (username) {\n            if (!this.onlineUsers)\n                return\n            this.onlineUsers.forEach(u => {\n                if (this.matches)\n                    this.matches.forEach(m => m.online = m.id === u.id)\n            })\n        }\n    }\n}\n</script>\n\n<style>\n    .avatar {\n        width: 50px;\n        height: auto;\n        border-radius: 50%;\n    }\n\n    .match {\n        cursor: pointer;\n    }\n</style>"],"sourceRoot":"src/views"}]}