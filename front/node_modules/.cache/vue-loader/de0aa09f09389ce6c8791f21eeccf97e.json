{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/ReviewBlockRequests.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/ReviewBlockRequests.vue","mtime":1605306440449},{"path":"/goinfre/nderek/matcha_private/front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vYXNzZXRzL3N0eWxlcy9WaWV3U3R5bGVzLmNzcyI7Cg=="},{"version":3,"sources":["ReviewBlockRequests.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA","file":"ReviewBlockRequests.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-table\n    :items=\"items\"\n    :fields=\"fields\"\n    striped\n    responsive=\"sm\"\n  >\n    <template v-slot:cell(reported_first_namereported_last_name)=\"data\">\n      <span>\n        <router-link\n          :to=\"{\n            name: 'profile',\n            params: { username: data.item.reported_username }}\">\n          {{ data.item.reported_first_name}} {{ data.item.reported_last_name }}\n        </router-link>\n      </span>\n    </template>\n\n    <template v-slot:cell(reporter_first_namereporter_last_name)=\"data\">\n      <span>\n        <router-link\n          :to=\"{\n            name: 'profile',\n            params: { username: data.item.reporter_username }}\">\n          {{ data.item.reporter_first_name}} {{ data.item.reporter_last_name }}\n        </router-link>\n      </span>\n    </template>\n\n    <template v-slot:table-colgroup=\"scope\">\n      <col\n        v-for=\"field in scope.fields\"\n        :key=\"field.key\"\n        :style=\"{\n          width:\n            field.key === 'comment' || field.key === 'reason'\n              ? '300px'\n              : '10px',\n        }\"\n      />\n    </template>\n    <template v-slot:cell(comment)=\"data\">\n      <b-form-input\n        v-model=\"data.item.admin_comments\" placeholder=\"Add a reviewer comment...\"\n      ></b-form-input>\n    </template>\n    <template v-slot:cell(actions)=\"data\">\n      <div class=\"d-flex flex-row justify-content-center\">\n        <b-button\n          size=\"sm\"\n          @click=\"updateRequest(data.item.id, 0, data.item.admin_comments)\"\n          class=\"mr-2 border-danger bg-danger p-1 px-2 rounded-pill shadow\"\n          title=\"Reject Block Request\"\n        >\n          <b-icon icon=\"x\" class=\"text-light\"></b-icon>\n        </b-button>\n        <b-button\n          size=\"sm\"\n          @click=\"updateRequest(data.item.id, 1, data.item.admin_comments)\"\n          class=\"mr-2 border-success bg-success p-1 px-2 rounded-pill shadow\"\n          title=\"Approve Block Request\"\n        >\n          <b-icon icon=\"check2\" class=\"text-light\"></b-icon>\n        </b-button>\n      </div>\n    </template>\n  </b-table>\n</template>\n\n<script>\nimport {actions, state} from '@/store'\n\nexport default {\n  props: ['items'],\n  data() {\n    return {\n      review: {\n        blocked: false,\n        admin_comments: null,\n      },\n      fields: [\n        { key: 'reported_first_namereported_last_name', label: 'Reported User'},\n        { key: 'reporter_first_namereporter_last_name', label: 'Reported By' },\n        \"reason\",\n        \"comment\",\n        \"actions\"\n      ],\n    };\n  },\n  methods: {\n    updateRequest: function(id, status, comment) {\n      this.review.blocked = status;\n      this.review.admin_comments = comment\n      this.$http\n        .put(`${this.$api}/block-request/${id}`, this.review)\n        .then((res) => {\n          actions.notify.success(res.data.message)\n          this.$emit(\"reload\")\n        })\n        .catch((err) => {\n          actions.notify.error(err.reponse.data.message)\n        });\n    },\n  },\n};\n</script>\n\n<style>\n@import \"../assets/styles/ViewStyles.css\";\n</style>\n"]}]}