{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Interests.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Interests.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgVm9lcnJvVGFnc0lucHV0IGZyb20gJ0B2b2Vycm8vdnVlLXRhZ3NpbnB1dCc7CmltcG9ydCB7YWN0aW9uLCBzdGF0ZX0gZnJvbSAiQC9zdG9yZSIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW50ZXJlc3RzIiwKICBwcm9wczogWyJ1c2VyIiwgIm15cHJvZmlsZSJdLAogIGNvbXBvbmVudHM6IHsKICAgICJ0YWdzLWlucHV0IiA6IFZvZXJyb1RhZ3NJbnB1dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFnc0VkaXQ6IGZhbHNlLAogICAgICBhdmFpbGFibGVUYWdzIDogW10sCiAgICAgIHNlbGVjdGVkVGFnczogW10KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbnRlcmVzdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IGludGVyZXN0cyA9IFtdCiAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzLmZvckVhY2goaSA9PiB7CiAgICAgICAgaW50ZXJlc3RzLnB1c2goaS52YWx1ZSkKICAgICAgfSkKICAgICAgcmV0dXJuIGludGVyZXN0cwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGFnc09uOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMudGFnc0VkaXQgPSAhdGhpcy50YWdzRWRpdCAmJiB0aGlzLm15cHJvZmlsZQogICAgfSwKICAgIHNhdmVJbnRlcmVzdHM6IGZ1bmN0aW9uICgpIHsKCiAgICAgIHRoaXMuJHByb3BzLnVzZXIuaW50ZXJlc3RzID0gdGhpcy5pbnRlcmVzdHMKCiAgICAgIHRoaXMuJGVtaXQoInN5bmMiKQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpCiAgCiAgICB9LAogICAgZ2V0SW50ZXJlc3RzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldChgJHt0aGlzLiRhcGl9L2luZm8vaW50ZXJlc3RzYCkKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmF2YWlsYWJsZVRhZ3MgPSBbXQogICAgICAgIHJlcy5kYXRhLmludGVyZXN0cy5mb3JFYWNoKGludGVyZXN0ID0+IHsKICAgICAgICAgIGxldCBrZXkgPSBpbnRlcmVzdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIiAiLCAiLSIpCiAgICAgICAgICB0aGlzLmF2YWlsYWJsZVRhZ3MucHVzaCh7a2V5OiBrZXksIHZhbHVlOiBpbnRlcmVzdH0pCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgYWN0aW9ucy5ub3RpZnkuZXJyb3IoIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyBzb21lIGRhdGEuIE5vdGljZSBvZiB0aGlzIGVycm9yIGhhcyBiZWVuIHNlbnQgdG8gYWRtaW5zLiIpCiAgICAgIH0pCiAgICB9CiAgfSwKICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICBhd2FpdCB0aGlzLmdldEludGVyZXN0cygpCiAgICBBcnJheS5mcm9tKHRoaXMudXNlci5pbnRlcmVzdHMgfHwgW10pLmZvckVhY2goaSA9PiB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzLnB1c2goe2tleTogaSwgdmFsdWU6IGl9KQogICAgfSkKICB9Cn0K"},{"version":3,"sources":["Interests.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Interests.vue","sourceRoot":"src/components/profile-components","sourcesContent":["<template>\n  <div class=\"my-4\">\n    <h4 style=\"font-weight: 700\" class=\"my-3\" @click=\"tagsOn()\">Interests</h4>\n    <div class=\"d-flex flex-row flex-wrap justify-content-center my-2\" v-if=\"!tagsEdit\">\n      <div v-for=\"(tag,index) in selectedTags\" @click=\"tagsOn()\" :key=\"index\" class=\"border text-light bg-secondary rounded-pill mx-1 px-3 py-1 my-1\">\n        {{ tag.value }}\n      </div>\n    </div>\n    <tags-input \n      v-if=\"tagsEdit\"\n      element-id=\"tags\"\n      v-model=\"selectedTags\"\n      :typeahead-hide-discard=\"true\"\n      :only-existing-tags=\"false\"\n      :existing-tags=\"availableTags\"\n      :typeahead=\"true\"\n      @tag-removed=\"saveInterests\"\n      @keyup.enter=\"saveInterests\"\n      @blur=\"tagsEdit = false\">\n    </tags-input>\n  </div>\n</template>\n\n<script>\n\nimport VoerroTagsInput from '@voerro/vue-tagsinput';\nimport {action, state} from \"@/store\"\n\nexport default {\n  name: \"Interests\",\n  props: [\"user\", \"myprofile\"],\n  components: {\n    \"tags-input\" : VoerroTagsInput\n  },\n  data: function () {\n    return {\n      tagsEdit: false,\n      availableTags : [],\n      selectedTags: []\n    }\n  },\n  computed: {\n    interests: function () {\n      let interests = []\n      this.selectedTags.forEach(i => {\n        interests.push(i.value)\n      })\n      return interests\n    }\n  },\n  methods: {\n    tagsOn: function () {\n      this.tagsEdit = !this.tagsEdit && this.myprofile\n    },\n    saveInterests: function () {\n\n      this.$props.user.interests = this.interests\n\n      this.$emit(\"sync\")\n      this.$forceUpdate()\n  \n    },\n    getInterests: function () {\n      return this.$http.get(`${this.$api}/info/interests`)\n      .then(res => {\n        this.availableTags = []\n        res.data.interests.forEach(interest => {\n          let key = interest.toLowerCase().replace(\" \", \"-\")\n          this.availableTags.push({key: key, value: interest})\n        })\n      })\n      .catch(err => {\n        actions.notify.error(\"There was a problem loading some data. Notice of this error has been sent to admins.\")\n      })\n    }\n  },\n  mounted: async function () {\n    await this.getInterests()\n    Array.from(this.user.interests || []).forEach(i => {\n      this.selectedTags.push({key: i, value: i})\n    })\n  }\n}\n</script>\n\n<style src='@voerro/vue-tagsinput/dist/style.css'></style>\n<style>\n\n</style>"]}]}