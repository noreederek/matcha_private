{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/Settings.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/Settings.vue","mtime":1605306440453},{"path":"/goinfre/nderek/matcha_private/front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZXMvVmlld1N0eWxlcy5jc3MnOwo="},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"header\">\n      <Header/>\n    </div>\n    <div class=\"content\">\n      <div class=\"max-w-90 d-flex justify-content-center\">\n        <b-col sm=\"auto\" md=\"6\" lg=\"4\" class=\"rounded-lg shadow bg-light\">\n          <h3 class=\"my-3\">Settings</h3>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.username>Change Username</b-button>\n            <b-collapse id=\"username\" class=\"mt-2\">\n              <b-card>\n                <ChangeUsername :user=\"user\" @sync=\"syncUser\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n          \n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.email>Change Email</b-button>\n            <b-collapse id=\"email\" class=\"m-2\">\n              <b-card>\n                <ChangeEmail :user=\"user\" @changeEmail=\"changeEmail\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.password>Change Password</b-button>\n            <b-collapse id=\"password\" class=\"mt-2\">\n              <b-card>\n                <ChangePassword/>\n              <a @click.prevent=\"showModal('reset')\" class=\"my-1 small text-secondary display-8\">Forgot password?</a>\n\n              <b-modal ref=\"reset\" hide-footer title=\"Reset your Password\">\n                <div class=\"d-block text-center\">\n                  <ResetPassword/>\n                </div>\n              </b-modal>\n              </b-card>\n            </b-collapse>\n          </div>\n        </b-col>\n      </div>\n\n    </div>\n    <div class=\"footer\">\n      <NavBar/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Header from '@/components/HeaderNav.vue'\nimport ChangePassword from '@/components/ChangePassword.vue'\nimport ResetPassword from '@/components/ResetPassword.vue'\nimport ChangeUsername from '@/components/ChangeUsername.vue'\nimport ChangeEmail from '@/components/ChangeEmail.vue'\nimport {actions, state} from '@/store'\n\nexport default {\n  name: 'settings',\n  components: {\n    Header,\n    NavBar,\n    ChangePassword,\n    ResetPassword,\n    ChangeUsername,\n    ChangeEmail\n  },\n  data: function () {\n    return {\n      user: JSON.parse(JSON.stringify(state.user))\n    }\n  },\n  mounted: function () {\n    this.user = actions.snapshotUser()\n  },\n  methods: {\n    showModal(ref) {\n      this.$refs[ref].show()\n    },\n\n    syncUser: function () {\n      actions.syncUser(this.user)\n      .then((res) => {\n        if (res) {\n          actions.notify.success(\"Username changed to \" + state.user.username)\n        } else {\n          actions.notify.error(\"Username could not be changed.\");\n        }\n      })\n    },\n\n    changeEmail: function () {\n      actions.syncUser(this.user)\n      .then(() => {\n        actions.logoutUser()\n        this.$router.push('/login')\n      })\n    }\n  }\n}\n</script>\n\n\n<style>\n@import '../assets/styles/ViewStyles.css';\n</style>"]}]}