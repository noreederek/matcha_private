{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/Search.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/Search.vue","mtime":1605335512772},{"path":"/goinfre/nderek/matcha_private/front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZXMvVmlld1N0eWxlcy5jc3MnOwo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4WA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["\n<template>\n  <div class=\"discover\">\n    <div class=\"header\">\n      <Header/>\n    </div>\n    <div class=\"content\">\n      <div class=\"advanced-search container\">\n        <b-button class=\"btn-block p-3\" v-b-toggle.search>Advanced Search</b-button>\n        <b-collapse id=\"search\" :visible=\"searchShow\" class=\"m-2\">\n          <b-card>\n          <label for=\"age-gap\">Age Gap - {{ageGap}} Years</label>\n          <b-input-group prepend=\"0\" append=\"30 Years\" class=\"mb-4\">\n            <b-form-input\n              type=\"range\"\n              min=\"0\"\n              max=\"30\"\n              id=\"age-gap\"\n              v-model=\"ageGap\"\n              @input=\"calcAgeMinMax()\"\n              :disabled=\"!searchEnabled\"\n            ></b-form-input>\n          </b-input-group>\n\n          <label for=\"fame-gap\">Fame Gap - {{fameGap}} Stars</label>\n          <b-input-group prepend=\"0\" append=\"5 Stars\" class=\"mb-4\">\n            <b-form-input\n              type=\"range\"\n              min=\"0\"\n              max=\"5\"\n              id=\"fame-gap\"\n              v-model=\"fameGap\"\n              @input=\"calcFameMinMax()\"\n              :disabled=\"!searchEnabled\"\n            ></b-form-input>\n          </b-input-group>\n\n          <label for=\"distance\">Maximum Distance - {{radius}} Kms</label>\n          <b-input-group prepend=\"0\" append=\"500 Kms\" class=\"mb-4\">\n            <b-form-input\n              type=\"range\"\n              min=\"0\"\n              max=\"500\"\n              id=\"fame-gap\"\n              v-model=\"radius\"\n              :disabled=\"!searchEnabled\"\n            ></b-form-input>\n          </b-input-group>\n\n          <label for=\"interests\">Minimum Common Interests - {{interests}} Tags</label>\n          <b-input-group prepend=\"0\" append=\"30 Tags\" class=\"mb-4\">\n            <b-form-input\n              type=\"range\"\n              min=\"0\"\n              max=\"30\"\n              id=\"fame-gap\"\n              v-model=\"interests\"\n              :disabled=\"!searchEnabled\"\n            ></b-form-input>\n          </b-input-group>\n\n          <b-button v-b-toggle.search class=\"btn-block\" @click=\"customSearch\">Submit</b-button>\n          </b-card>\n        </b-collapse>\n      </div>\n\n      <div v-if=\"!searchShow\">\n        <div v-if=\"loading\">\n          <div class=\"mt-5 d-flex flex-column justify-content-center align-items-center\">\n            <b-spinner style=\"width: 5rem; height: 5rem;\" type=\"grow\"  class=\"mt-5\" variant=\"primary\"></b-spinner>\n            <div class=\"text-centered text-primary mt-4\">Search your match...</div>\n          </div>\n        </div>\n        <div v-else>\n          <div class=\"d-flex flex-column align-items-center justify-content-center flex-md-row ml-md-4 my-2\">\n            <b-button v-b-toggle.sidebar-1 class=\"btn-block px-md-2 col-11 col-md-3\">Filter</b-button>\n            <b-sidebar id=\"sidebar-1\" title=\"Filter\" shadow>\n              <div class=\"py-2\">\n                <b-button-group class=\"w-100 px-3 py-2\">\n                  <b-button @click=\"filterAgeClick\" :pressed.sync=\"filterAge\" style=\"width: 300px\">Age</b-button>\n                  <b-input v-model=\"minAge\" type=\"number\" min=\"18\" :max=\"maxAge\" onchange=\"validity.valid||(value=18);\" required></b-input>\n                  <b-input v-model=\"maxAge\" type=\"number\" :min=\"minAge\" max=\"100\" onchange=\"validity.valid||(value=100);\" required></b-input>\n                  <b-button v-if=\"!filterAge\"  variant=\"success\" @click=\"filterAgeClick\" :pressed.sync=\"filterAge\">Enable</b-button>\n                  <b-button v-if=\"filterAge\" variant=\"danger\" @click=\"filterAgeClick\" :pressed.sync=\"filterAge\">Disable</b-button>\n                </b-button-group>\n                <b-button-group class=\"w-100 px-3 py-2\">\n                  <b-button @click=\"filterDistanceClick\" :pressed.sync=\"filterDistance\" style=\"width: 300px\">Kms</b-button>\n                  <b-input v-model=\"minDistance\" type=\"number\" min=\"0\" :max=\"maxDistance\" onchange=\"validity.valid||(value=0);\" required></b-input>\n                  <b-input v-model=\"maxDistance\" type=\"number\" :min=\"minDistance\" max=\"1000\" onchange=\"validity.valid||(value=1000);\" required></b-input>\n                  <b-button v-if=\"!filterDistance\" variant=\"success\" @click=\"filterDistanceClick\" :pressed.sync=\"filterDistance\">Enable</b-button>\n                  <b-button v-if=\"filterDistance\" variant=\"danger\" @click=\"filterDistanceClick\" :pressed.sync=\"filterDistance\">Disable</b-button>\n                </b-button-group>\n                <b-button-group class=\"w-100 px-3 py-2\">\n                  <b-button @click=\"filterHeatClick\" :pressed.sync=\"filterHeat\" style=\"width: 300px\">Heat</b-button>\n                  <b-input v-model=\"minHeat\" type=\"number\" min=\"1\" :max=\"maxHeat\" onchange=\"validity.valid||(value=1);\" required></b-input>\n                  <b-input v-model=\"maxHeat\" type=\"number\" :min=\"minHeat\" max=\"5\" onchange=\"validity.valid||(value=5);\" required></b-input>\n                  <b-button v-if=\"!filterHeat\" variant=\"success\" @click=\"filterHeatClick\" :pressed.sync=\"filterHeat\">Enable</b-button>\n                  <b-button v-if=\"filterHeat\" variant=\"danger\" @click=\"filterHeatClick\" :pressed.sync=\"filterHeat\">Disable</b-button>\n                </b-button-group>\n                <b-button-group class=\"w-100 px-3 py-2\">\n                  <b-button @click=\"filterTagsClick\" :pressed.sync=\"filterTags\" style=\"width: 300px\">Tags</b-button>\n                  <b-input v-model=\"minTags\" type=\"number\" min=\"0\" :max=\"maxTags\" onchange=\"validity.valid||(value=0);\" required></b-input>\n                  <b-input v-model=\"maxTags\" type=\"number\" :min=\"minTags\" max=\"10\" onchange=\"validity.valid||(value=10);\" required></b-input>\n                  <b-button v-if=\"!filterTags\" variant=\"success\" @click=\"filterTagsClick\" :pressed.sync=\"filterTags\">Enable</b-button>\n                  <b-button v-if=\"filterTags\" variant=\"danger\" @click=\"filterTagsClick\" :pressed.sync=\"filterTags\">Disable</b-button>\n                </b-button-group>\n              </div>\n            </b-sidebar>\n\n          <b-button-group text=\"Sort\" block right class=\"my-2 col-md-3\">\n            <b-button @click=\"ageClick\" :pressed.sync=\"age\">\n              Age\n              <b-icon-arrow-up v-if=\"age && ageOrder === 'ascending'\"></b-icon-arrow-up>\n              <b-icon-arrow-down v-if=\"age && ageOrder === 'descending'\"></b-icon-arrow-down>\n            </b-button>\n            <b-button @click=\"distanceClick\" :pressed.sync=\"distance\">\n              Distance\n              <b-icon-arrow-up v-if=\"distance && distanceOrder === 'ascending'\"></b-icon-arrow-up>\n              <b-icon-arrow-down v-if=\"distance && distanceOrder === 'descending'\"></b-icon-arrow-down>\n            </b-button>\n            <b-button @click=\"heatClick\" :pressed.sync=\"heat\">\n              Heat\n              <b-icon-arrow-up v-if=\"heat && heatOrder === 'ascending'\"></b-icon-arrow-up>\n              <b-icon-arrow-down v-if=\"heat && heatOrder === 'descending'\"></b-icon-arrow-down>\n            </b-button>\n            <b-button @click=\"tagsClick\" :pressed.sync=\"tags\">\n              Tags\n              <b-icon-arrow-up v-if=\"tags && tagsOrder === 'ascending'\"></b-icon-arrow-up>\n              <b-icon-arrow-down v-if=\"tags && tagsOrder === 'descending'\"></b-icon-arrow-down>\n            </b-button>\n          </b-button-group>\n        </div>\n        <div class=\"d-flex flex-column flex-md-row justify-content-center align-items-center flex-wrap\">\n          <ProfileCard v-for=\"a in users\" :key=\"a.index\" :user=\"a\"/>\n        </div>\n\n        <!-- <b-button @click=\"loadMore\">LOAD MORE</b-button> -->\n        </div>\n      </div>\n    </div>\n    <div class=\"footer\">\n      <NavBar/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Header from '@/components/HeaderNav.vue'\nimport ProfileCard from '@/components/ProfileCardRachel.vue'\n\nimport {actions, state} from \"@/store\"\nimport axios from \"axios\"\n\nexport default {\n  name: 'discover',\n  components: {\n    Header,\n    ProfileCard,\n    NavBar\n  },\n  data() {\n    return {\n      skip: 0,\n      take: 25,\n      fameGap: 2,\n      ageGap: 5,\n      radius: 20,\n      interests: 3,\n      searchEnabled: true,\n      searchShow: true,\n      searchMinAge: null,\n      searchMinAge: null,\n      searchMinHeat: null,\n      searchMaxHeat: null,\n      loading: true,\n      filterAge: false,\n      minAge: 20,\n      maxAge: 40,\n      filterDistance: false,\n      minDistance: 0,\n      maxDistance: 20,\n      filterHeat: false,\n      minHeat: 1,\n      maxHeat: 5,\n      filterTags: false,\n      minTags: 3,\n      maxTags: 10,\n      age: false,\n      ageOrder: \"descending\",\n      distance: true,\n      distanceOrder: \"ascending\",\n      heat: false,\n      heatOrder: \"descending\",\n      tags: false,\n      tagsOrder: \"descending\",\n      object: [],\n      users: []\n    }\n  },\n  computed: {\n    profiles() {\n      var temp = this.object;\n      var minAge = this.minAge;\n      var maxAge = this.maxAge;\n      if (this.filterAge === true) {\n        temp = temp.filter(function(n) {\n          var date = new Date(n.dob);\n          var diff_ms = Date.now() - date;\n          var age_dt = new Date(diff_ms);\n          var age = Math.abs(age_dt.getUTCFullYear() - 1970);\n          return age >= minAge && age <= maxAge;\n        });\n      }\n      var minDistance = this.minDistance;\n      var maxDistance = this.maxDistance;\n      if (this.filterDistance === true) {\n        temp = temp.filter(function(n) {\n          return n.distance >= minDistance && n.distance <= maxDistance;\n        });\n      }\n      var minHeat = this.minHeat;\n      var maxHeat = this.maxHeat;\n      if (this.filterHeat === true) {\n        temp = temp.filter(function(n) {\n          return n.heat >= minHeat && n.heat <= maxHeat;\n        });\n      }\n      var minTags = this.minTags;\n      var maxTags = this.maxTags;\n      if (this.filterTags === true) {\n        temp = temp.filter(function(n) {\n          return n.tags >= minTags && n.tags <= maxTags;\n        });\n      }\n      return temp;\n    },\n  },\n  methods: { \n    customSearch() {\n      this.skip = 0,\n      this.take = 50,\n      this.searchShow = false\n      axios.get(`${actions.api}/discover?skip=${this.skip}&take=${this.take}&distance=${this.radius}&fame_min=${this.searchMinHeat}&fame_max=${this.searchMaxHeat}&age_min=${this.searchMinAge}&age_max=${this.searchMaxAge}&tags_min=${this.interests}`)\n      .then(resp => {\n        this.object = resp.data,\n        this.users = resp.data\n        this.loading = false\n        // this.skip = parseInt(this.skip) + parseInt(this.take)\n      })\n    },\n    loadMore() {\n      axios.get(`${actions.api}/discover?skip=${this.skip}&take=${this.take}&distance=${this.radius}&fame_min=${this.searchMinHeat}&fame_max=${this.searchMaxHeat}&age_min=${this.searchMinAge}&age_max=${this.searchMaxAge}&tags_min=${this.interests}`)\n      .then(resp => {\n        this.object.concat(resp.data)\n        this.users.concat(resp.data)\n        this.skip = parseInt(this.skip) + parseInt(this.take)\n      })\n    },\n    calcAgeMinMax() {\n      var userAge = this.ageCalculation(state.user.dob)\n      this.searchMinAge = (parseInt(userAge) - parseInt(this.ageGap) >= 18) ? parseInt(userAge) - parseInt(this.ageGap) : 18 \n      this.searchMaxAge = (parseInt(userAge) + parseInt(this.ageGap) <= 100) ? parseInt(userAge) + parseInt(this.ageGap) : 100\n    }, \n    calcFameMinMax() {\n      var userFame = parseInt(state.user.heat)\n      this.searchMinHeat = (parseInt(userFame) - parseInt(this.fameGap) >= 1) ? parseInt(userFame) - parseInt(this.fameGap) : 1 \n      this.searchMaxHeat = (parseInt(userFame) + parseInt(this.fameGap) <= 5) ? parseInt(userFame) + parseInt(this.fameGap) : 5\n    }, \n    ageCalculation(dob) {\n      var date = new Date(dob);\n      var diff_ms = Date.now() - date;\n      var age_dt = new Date(diff_ms);\n      var age = Math.abs(age_dt.getUTCFullYear() - 1970);\n      return age\n    },\n    checkSmaller(input, otherInput) {\n      return input <= otherInput;\n    },\n    filterAgeClick() {},\n    filterDistanceClick() {},\n    filterHeatClick() {},\n    filterTagsClick() {},\n    distanceClick() {\n      this.distance = true;\n      this.age = false;\n      this.ageOrder = \"descending\";\n      this.heat = false;\n      this.heatOrder = \"descending\";\n      this.tags = false;\n      this.tagsOrder = \"descending\";\n      if (this.distanceOrder === \"ascending\") {\n        this.distanceOrder = \"descending\";\n      } else {\n        this.distanceOrder = \"ascending\";\n      }\n      if (this.distanceOrder === \"ascending\") {\n        this.users.sort((a, b) => parseFloat(a.distance) - parseFloat(b.distance));\n      } else {\n        this.users.sort((a, b) => parseFloat(b.distance) - parseFloat(a.distance));\n      }\n    },\n    ageClick() {\n      this.age = true;\n      this.distance = false;\n      this.distanceOrder = \"descending\";\n      this.heat = false;\n      this.heatOrder = \"descending\";\n      this.tags = false;\n      this.tagsOrder = \"descending\";\n      if (this.ageOrder === \"ascending\") {\n        this.ageOrder = \"descending\";\n      } else {\n        this.ageOrder = \"ascending\";\n      }\n      if (this.ageOrder === \"ascending\") {\n        this.users.sort((a, b) => parseFloat(b.dob) - parseFloat(a.dob));\n      } else {\n        this.users.sort((a, b) => parseFloat(a.dob) - parseFloat(b.dob));\n      }\n    },\n    heatClick() {\n      this.heat = true;\n      this.age = false;\n      this.ageOrder = \"descending\";\n      this.distance = false;\n      this.distanceOrder = \"descending\";\n      this.tags = false;\n      this.tagsOrder = \"descending\";\n      if (this.heatOrder === \"ascending\") {\n        this.heatOrder = \"descending\";\n      } else {\n        this.heatOrder = \"ascending\";\n      }\n      if (this.heatOrder === \"ascending\") {\n        this.users.sort((a, b) => parseFloat(a.heat) - parseFloat(b.heat));\n      } else {\n        this.users.sort((a, b) => parseFloat(b.heat) - parseFloat(a.heat));\n      }\n    },\n    tagsClick() {\n      this.tags = true;\n      this.age = false;\n      this.ageOrder = \"descending\";\n      this.distance = false;\n      this.distanceOrder = \"descending\";\n      this.heat = false;\n      this.heatOrder = \"descending\";\n      if (this.tagsOrder === \"ascending\") {\n        this.tagsOrder = \"descending\";\n      } else {\n        this.tagsOrder = \"ascending\";\n      }\n      if (this.tagsOrder === \"ascending\") {\n        this.users.sort((a, b) => parseFloat(a.tags) - parseFloat(b.tags));\n      } else {\n        this.users.sort((a, b) => parseFloat(b.tags) - parseFloat(a.tags));\n      }\n    }\n  },\n}\n</script>\n\n<style>\n@import '../assets/styles/ViewStyles.css';\n</style>"]}]}