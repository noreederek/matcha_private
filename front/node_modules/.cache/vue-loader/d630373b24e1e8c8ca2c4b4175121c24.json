{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/ValidateEmail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/ValidateEmail.vue","mtime":1605306440453},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgdmVyaWZ5aW5nIDogdHJ1ZSwKICAgICAgZmFpbGVkIDogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIGNvZGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LmNvZGUsCiAgICAgIGVtYWlsOiBudWxsLAogICAgICBlbWFpbEVycm9yOiAiIiwKICAgICAgcmVzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBzdWNjZXNzIDogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlU3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJGh0dHAucG9zdChgJHt0aGlzLiRzdG9yZS5hcGl9L3ZhbGlkYXRlL3Jlc3VibWl0LyR7dGhpcy5lbWFpbH1gKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmZhaWxlZCA9IGZhbHNlCiAgICAgICAgdGhpcy5yZXN1Ym1pdHRlZCA9IHRydWUKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKQogICAgICAgIH0sIDMwMDApOwogICAgICB9KQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewoKICAgIGlmICh0aGlzLmNvZGUpIHsKICAgICAgdGhpcy4kaHR0cC5nZXQoYCR7dGhpcy4kYXBpfS92YWxpZGF0ZS8ke3RoaXMuY29kZX1gKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLnZlcmlmeWluZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpCiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLnZlcmlmeWluZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLmZhaWxlZCA9IHRydWUKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgfSkKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudmVyaWZ5aW5nID0gZmFsc2UKICAgICAgdGhpcy5mYWlsZWQgPSB0cnVlCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gIlRoaXMgZW1haWwgYWRkcmVzcyBjb3VsZCBub3QgYmUgdmVyaWZpZWQiCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ValidateEmail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ValidateEmail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container h-100\">\n    <div class=\"row h-100 justify-content-center align-items-center\">\n      <div v-if=\"verifying\">\n        <b-spinner style=\"width: 5rem; height: 5rem;\" variant=\"primary\"></b-spinner>\n        <div class=\"text-centered text-primary mt-4\">Verifying your email</div>\n      </div>\n      <div v-if=\"failed\">\n        <b-icon style=\"width: 5rem; height: 5rem;\" class=\"text-primary\" icon=\"x-circle\"></b-icon>\n        <div class=\"text-centered text-primary mt-4 mb-4\">{{ errorMessage }}</div>\n        <b-form ref=\"form\" @submit.prevent=\"reSubmit\">\n          <b-input-group class=\"mb-2 mr-sm-2 mb-sm-0\">\n            <b-input v-model=\"email\" type=\"email\" placeholder=\"Email\" required></b-input>\n          </b-input-group>\n            <div>{{ emailError }}</div>\n          <b-button type=\"submit\" class=\"mt-2 w-100\" variant=\"primary\">Resend Verification</b-button>\n        </b-form>\n      </div>\n      <div v-if=\"resubmitted\">        \n        <b-icon style=\"width: 5rem; height: 5rem;\" class=\"text-primary\" icon=\"envelope\"></b-icon>\n        <div class=\"text-centered text-primary mt-4 mb-4\">Email has been sent to {{ email }}!</div>\n      </div>\n      <div v-if=\"success\">        \n        <b-icon style=\"width: 5rem; height: 5rem;\" class=\"text-primary\" icon=\"check2\"></b-icon>\n        <div class=\"text-centered text-primary mt-4 mb-4\">Thank you for verifying your account. Redirecting to <router-link to=\"/login\">login</router-link></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data: function () {\n    return {\n      verifying : true,\n      failed : false,\n      errorMessage: \"\",\n      code: this.$route.query.code,\n      email: null,\n      emailError: \"\",\n      resubmitted: false,\n      success : false\n    }\n  },\n  methods: {\n    reSubmit: function () {\n      this.$http.post(`${this.$store.api}/validate/resubmit/${this.email}`).then(() => {\n        this.failed = false\n        this.resubmitted = true\n        setTimeout(() => {\n          this.$router.push(\"/login\")\n        }, 3000);\n      })\n    }\n  },\n  mounted: function () {\n\n    if (this.code) {\n      this.$http.get(`${this.$api}/validate/${this.code}`)\n        .then(res => {\n          this.verifying = false\n          this.success = true\n          setTimeout(() => {\n            this.$router.push(\"/login\")\n          }, 3000);\n        })\n        .catch(error => {\n          this.verifying = false\n          this.failed = true\n          this.errorMessage = error.response.data.message\n        })\n    } else {\n      this.verifying = false\n      this.failed = true\n      this.errorMessage = \"This email address could not be verified\"\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}