{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/PersonalDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/PersonalDetails.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CmNvbnN0IHRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTsKY29uc3QgbWF4RGF0ZSA9IG5ldyBEYXRlKHRvZGF5KTsKbWF4RGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpIC0gMTkpOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbInVzZXIiLCAibXlwcm9maWxlIl0sCiAgZGF0YSgpIHsKCiAgICByZXR1cm4gewogICAgICBmbmFtZUVkaXQ6IGZhbHNlLAogICAgICBsbmFtZUVkaXQ6IGZhbHNlLAogICAgICBkb2JFZGl0OiBmYWxzZSwKICAgICAgZ2VuZGVyRWRpdDogZmFsc2UsCiAgICAgIG1heDogbWF4RGF0ZSwKICAgICAgZ2VuZGVyczogWwogICAgICAgIHsgdmFsdWU6IG51bGwsIHRleHQ6ICdTZWxlY3QgeW91ciBnZW5kZXInIH0KICAgICAgXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZ2U6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy51c2VyLmRvYikgewogICAgICAgIHZhciBzcGxpdF9kb2IgPSB0aGlzLnVzZXIuZG9iLnNwbGl0KCItIik7CiAgICAgICAgdmFyIHllYXIgPSBzcGxpdF9kb2JbMF07CiAgICAgICAgdmFyIG1vbnRoID0gc3BsaXRfZG9iWzFdOwogICAgICAgIHZhciBkYXkgPSBzcGxpdF9kb2JbMl07CiAgICAgICAgdmFyIGRvYl9hc2RhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTsKICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBtaWxpX2RpZiA9IE1hdGguYWJzKHRvZGF5LmdldFRpbWUoKSAtIGRvYl9hc2RhdGUuZ2V0VGltZSgpKTsKICAgICAgICB2YXIgYWdlID0gbWlsaV9kaWYgLyAoMTAwMCAqIDM2MDAgKiAyNCAqIDM2NS4yNSk7CiAgICAgICAgYWdlID0gTWF0aC5mbG9vcihhZ2UpOwogICAgICB9CiAgICAgIHJldHVybiBhZ2U7CiAgICB9LAoKICAgIGdldEdlbmRlcnM6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy4kaHR0cAogICAgICAgIC5nZXQoYCR7dGhpcy4kYXBpfS9pbmZvL2dlbmRlcnNgKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHJlcy5kYXRhLmdlbmRlcnMuZm9yRWFjaCgoZ2VuZGVyKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZ2VuZGVycy5wdXNoKHsgdmFsdWU6IGdlbmRlciwgdGV4dDogZ2VuZGVyIH0pCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5lcnJvcigiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHNvbWUgZGF0YS4gTm90aWNlIG9mIHRoaXMgZXJyb3IgaGFzIGJlZW4gc2VudCB0byBhZG1pbnMuIikKICAgICAgICB9KTsKICAgIH0sCgogICAgZm5hbWVPbjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZm5hbWVFZGl0ID0gdHJ1ZSAmJiB0aGlzLm15cHJvZmlsZQogICAgfSwKCiAgICBmbmFtZU9mZjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZm5hbWVFZGl0ID0gZmFsc2UKICAgICAgdGhpcy4kZW1pdCgic3luYyIpCiAgICB9LAoKICAgIGxuYW1lT246IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmxuYW1lRWRpdCA9IHRydWUgJiYgdGhpcy5teXByb2ZpbGUKICAgIH0sCgogICAgbG5hbWVPZmY6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmxuYW1lRWRpdCA9IGZhbHNlCiAgICAgIHRoaXMuJGVtaXQoInN5bmMiKQogICAgfSwKCiAgICBkb2JPbjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZG9iRWRpdCA9IHRydWUgJiYgdGhpcy5teXByb2ZpbGUKICAgIH0sCgogICAgZG9iT2ZmOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5kb2JFZGl0ID0gZmFsc2UKICAgICAgdGhpcy4kZW1pdCgic3luYyIpCiAgICB9LAoKICAgIGdlbmRlck9uOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5nZW5kZXJFZGl0ID0gdHJ1ZSAmJiB0aGlzLm15cHJvZmlsZQogICAgfSwKCiAgICBnZW5kZXJPZmY6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXRoaXMudXNlci5nZW5kZXIpIHsKICAgICAgICB0aGlzLmdlbmRlckVkaXQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2VuZGVyRWRpdCA9IGZhbHNlOwogICAgICAgIHRoaXMuJGVtaXQoInN5bmMiKQogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0R2VuZGVycygpOwogICAgCiAgICBpZiAoIXRoaXMudXNlci5kb2IpIHsKICAgICAgdGhpcy5kb2JFZGl0ID0gdHJ1ZSAmJiB0aGlzLm15cHJvZmlsZQogICAgfQogICAgaWYgKCF0aGlzLnVzZXIuZ2VuZGVyKSB7CiAgICAgIHRoaXMuZ2VuZGVyRWRpdCA9IHRydWUgJiYgdGhpcy5teXByb2ZpbGUKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["PersonalDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PersonalDetails.vue","sourceRoot":"src/components/profile-components","sourcesContent":["<template>\n  <div class=\"container\">\n    <b-row class=\"mt-2\">\n      <b-col class=\"d-flex flex-row align-items-center flex-wrap\">\n        <div\n          v-if=\"!fnameEdit\"\n          @click=\"fnameOn()\"\n          style=\"font-size: 1.75rem; font-weight: 700\"\n        >\n          {{ user.fname }}\n        </div>\n        <b-form-input\n          class=\"mr-2 col-7\"\n          autofocus=\"autofocus\"\n          v-model=\"user.fname\"\n          placeholder=\"Enter your first name\"\n          v-if=\"fnameEdit\"\n          @blur=\"fnameOff()\"\n          @keyup.enter=\"fnameOff()\"\n        ></b-form-input>\n        <div\n          v-if=\"!lnameEdit\"\n          @click=\"lnameOn()\"\n          class=\"ml-2\"\n          style=\"font-size: 1.75rem;\"\n        >\n          {{ user.lname }}\n        </div>\n        <b-form-input\n          class=\"ml-2 col-7\"\n          autofocus=\"autofocus\"\n          v-model=\"user.lname\"\n          placeholder=\"Enter your last name\"\n          v-if=\"lnameEdit\"\n          @blur=\"lnameOff()\"\n          @keyup.enter=\"lnameOff()\"\n        ></b-form-input>\n      </b-col>\n    </b-row>\n    <b-row class=\"mb-2\">\n      <b-col class=\"d-flex flex-row align-items-center flex-wrap\">\n        <div\n          v-if=\"!dobEdit\"\n          @click=\"dobOn()\"\n          style=\"font-size: 1.5rem; font-weight: 700\">\n          {{ age() }},\n        </div>\n        <label for=\"datepicker\" v-if=\"dobEdit\">Birthday: </label>\n        <b-form-datepicker\n          id=\"datepicker\"\n          dark\n          class=\"mx-2 col-8 small mb-2\"\n          v-model=\"user.dob\"\n          v-if=\"dobEdit\"\n          @input=\"dobOff()\"\n          @blur=\"dobOff()\"\n          :max=\"max\">\n          </b-form-datepicker>\n        <div\n          v-if=\"!genderEdit\"\n          @click=\"genderOn()\"\n          class=\"ml-2\"\n          style=\"font-size: 1.5rem;\">\n          {{ user.gender }}\n        </div>\n        <b-form-select\n          class=\"ml-2 col-5 col-8\"\n          v-model=\"user.gender\"\n          placeholder=\"Select your gender\"\n          v-if=\"genderEdit\"\n          @input=\"genderOff()\"\n          :options=\"genders\"\n        ></b-form-select>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nconst now = new Date();\nconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\nconst maxDate = new Date(today);\nmaxDate.setFullYear(today.getFullYear() - 19);\n\nexport default {\n  props: [\"user\", \"myprofile\"],\n  data() {\n\n    return {\n      fnameEdit: false,\n      lnameEdit: false,\n      dobEdit: false,\n      genderEdit: false,\n      max: maxDate,\n      genders: [\n        { value: null, text: 'Select your gender' }\n      ],\n    };\n  },\n  methods: {\n    age: function() {\n      if (this.user.dob) {\n        var split_dob = this.user.dob.split(\"-\");\n        var year = split_dob[0];\n        var month = split_dob[1];\n        var day = split_dob[2];\n        var dob_asdate = new Date(year, month, day);\n        var today = new Date();\n        var mili_dif = Math.abs(today.getTime() - dob_asdate.getTime());\n        var age = mili_dif / (1000 * 3600 * 24 * 365.25);\n        age = Math.floor(age);\n      }\n      return age;\n    },\n\n    getGenders: function() {\n      return this.$http\n        .get(`${this.$api}/info/genders`)\n        .then((res) => {\n          res.data.genders.forEach((gender) => {\n            this.genders.push({ value: gender, text: gender })\n          });\n        })\n        .catch((err) => {\n          actions.notify.error(\"There was a problem loading some data. Notice of this error has been sent to admins.\")\n        });\n    },\n\n    fnameOn: function() {\n      this.fnameEdit = true && this.myprofile\n    },\n\n    fnameOff: function() {\n      this.fnameEdit = false\n      this.$emit(\"sync\")\n    },\n\n    lnameOn: function() {\n      this.lnameEdit = true && this.myprofile\n    },\n\n    lnameOff: function() {\n      this.lnameEdit = false\n      this.$emit(\"sync\")\n    },\n\n    dobOn: function() {\n      this.dobEdit = true && this.myprofile\n    },\n\n    dobOff: function() {\n      this.dobEdit = false\n      this.$emit(\"sync\")\n    },\n\n    genderOn: function() {\n      this.genderEdit = true && this.myprofile\n    },\n\n    genderOff: function() {\n      if (!this.user.gender) {\n        this.genderEdit = true;\n      } else {\n        this.genderEdit = false;\n        this.$emit(\"sync\")\n      }\n    },\n  },\n  mounted() {\n    this.getGenders();\n    \n    if (!this.user.dob) {\n      this.dobEdit = true && this.myprofile\n    }\n    if (!this.user.gender) {\n      this.genderEdit = true && this.myprofile\n    }\n  },\n};\n</script>\n"]}]}