{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/views/Settings.vue","mtime":1605306440453},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdkJhci52dWUnCmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlck5hdi52dWUnCmltcG9ydCBDaGFuZ2VQYXNzd29yZCBmcm9tICdAL2NvbXBvbmVudHMvQ2hhbmdlUGFzc3dvcmQudnVlJwppbXBvcnQgUmVzZXRQYXNzd29yZCBmcm9tICdAL2NvbXBvbmVudHMvUmVzZXRQYXNzd29yZC52dWUnCmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdAL2NvbXBvbmVudHMvQ2hhbmdlVXNlcm5hbWUudnVlJwppbXBvcnQgQ2hhbmdlRW1haWwgZnJvbSAnQC9jb21wb25lbnRzL0NoYW5nZUVtYWlsLnZ1ZScKaW1wb3J0IHthY3Rpb25zLCBzdGF0ZX0gZnJvbSAnQC9zdG9yZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2V0dGluZ3MnLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlciwKICAgIE5hdkJhciwKICAgIENoYW5nZVBhc3N3b3JkLAogICAgUmVzZXRQYXNzd29yZCwKICAgIENoYW5nZVVzZXJuYW1lLAogICAgQ2hhbmdlRW1haWwKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUudXNlcikpCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnVzZXIgPSBhY3Rpb25zLnNuYXBzaG90VXNlcigpCiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93TW9kYWwocmVmKSB7CiAgICAgIHRoaXMuJHJlZnNbcmVmXS5zaG93KCkKICAgIH0sCgogICAgc3luY1VzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgYWN0aW9ucy5zeW5jVXNlcih0aGlzLnVzZXIpCiAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5zdWNjZXNzKCJVc2VybmFtZSBjaGFuZ2VkIHRvICIgKyBzdGF0ZS51c2VyLnVzZXJuYW1lKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhY3Rpb25zLm5vdGlmeS5lcnJvcigiVXNlcm5hbWUgY291bGQgbm90IGJlIGNoYW5nZWQuIik7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICBjaGFuZ2VFbWFpbDogZnVuY3Rpb24gKCkgewogICAgICBhY3Rpb25zLnN5bmNVc2VyKHRoaXMudXNlcikKICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgIGFjdGlvbnMubG9nb3V0VXNlcigpCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"header\">\n      <Header/>\n    </div>\n    <div class=\"content\">\n      <div class=\"max-w-90 d-flex justify-content-center\">\n        <b-col sm=\"auto\" md=\"6\" lg=\"4\" class=\"rounded-lg shadow bg-light\">\n          <h3 class=\"my-3\">Settings</h3>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.username>Change Username</b-button>\n            <b-collapse id=\"username\" class=\"mt-2\">\n              <b-card>\n                <ChangeUsername :user=\"user\" @sync=\"syncUser\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n          \n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.email>Change Email</b-button>\n            <b-collapse id=\"email\" class=\"m-2\">\n              <b-card>\n                <ChangeEmail :user=\"user\" @changeEmail=\"changeEmail\"/>\n              </b-card>\n            </b-collapse>\n          </div>\n\n          <div class=\"mb-4\">\n            <b-button class=\"btn-block p-3\" v-b-toggle.password>Change Password</b-button>\n            <b-collapse id=\"password\" class=\"mt-2\">\n              <b-card>\n                <ChangePassword/>\n              <a @click.prevent=\"showModal('reset')\" class=\"my-1 small text-secondary display-8\">Forgot password?</a>\n\n              <b-modal ref=\"reset\" hide-footer title=\"Reset your Password\">\n                <div class=\"d-block text-center\">\n                  <ResetPassword/>\n                </div>\n              </b-modal>\n              </b-card>\n            </b-collapse>\n          </div>\n        </b-col>\n      </div>\n\n    </div>\n    <div class=\"footer\">\n      <NavBar/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Header from '@/components/HeaderNav.vue'\nimport ChangePassword from '@/components/ChangePassword.vue'\nimport ResetPassword from '@/components/ResetPassword.vue'\nimport ChangeUsername from '@/components/ChangeUsername.vue'\nimport ChangeEmail from '@/components/ChangeEmail.vue'\nimport {actions, state} from '@/store'\n\nexport default {\n  name: 'settings',\n  components: {\n    Header,\n    NavBar,\n    ChangePassword,\n    ResetPassword,\n    ChangeUsername,\n    ChangeEmail\n  },\n  data: function () {\n    return {\n      user: JSON.parse(JSON.stringify(state.user))\n    }\n  },\n  mounted: function () {\n    this.user = actions.snapshotUser()\n  },\n  methods: {\n    showModal(ref) {\n      this.$refs[ref].show()\n    },\n\n    syncUser: function () {\n      actions.syncUser(this.user)\n      .then((res) => {\n        if (res) {\n          actions.notify.success(\"Username changed to \" + state.user.username)\n        } else {\n          actions.notify.error(\"Username could not be changed.\");\n        }\n      })\n    },\n\n    changeEmail: function () {\n      actions.syncUser(this.user)\n      .then(() => {\n        actions.logoutUser()\n        this.$router.push('/login')\n      })\n    }\n  }\n}\n</script>\n\n\n<style>\n@import '../assets/styles/ViewStyles.css';\n</style>"]}]}