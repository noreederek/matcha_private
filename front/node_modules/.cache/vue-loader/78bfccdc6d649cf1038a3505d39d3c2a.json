{"remainingRequest":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/nderek/matcha_private/front/src/components/profile-components/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/nderek/matcha_private/front/src/components/profile-components/Report.vue","mtime":1605306440451},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/nderek/matcha_private/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWN0aW9uc30gZnJvbSAnQC9zdG9yZScKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJ1c2VyIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlYXNvbnM6IFsKICAgICAgICB7IHZhbHVlOiBudWxsLCB0ZXh0OiAnV2h5IGFyZSB5b3UgcmVwb3J0aW5nIHRoaXMgdXNlcj8nIH0sCiAgICAgICAgeyB2YWx1ZTogImZha2UgcHJvZmlsZSIsIHRleHQ6ICJUaGlzIGlzIGEgZmFrZSBwcm9maWxlLiIgfSwKICAgICAgICB7IHZhbHVlOiAiaW5hcHByb3ByaWF0ZSBjb250ZW50IiwgdGV4dDogIlRoaXMgdXNlcidzIGFjY291bnQgaGFzIGluYXBwcm9wcmlhdGUgY29udGVudC4iIH0sCiAgICAgICAgeyB2YWx1ZTogImhhcmFzc21lbnQiLCB0ZXh0OiAiSSBmZWVsIHRoYXQgdGhpcyB1c2VyIGhhcyBoYXJhc3NlZCBtZS4iIH0sCiAgICAgICAgeyB2YWx1ZTogInRvbyBzZXh5IiwgdGV4dDogIlRoaXMgdXNlciBpcyB0b28gc2V4eSBmb3IgdGhlaXIgc2hpcnQuIiB9LAogICAgICAgIHsgdmFsdWU6ICJvdGhlciIsIHRleHQ6ICJPdGhlciIgfQogICAgICBdLAogICAgICByZWFzb246IG51bGwsCiAgICAgIHJlYXNvbl90ZXh0OiBudWxsLAogICAgICBibG9ja19yZXF1ZXN0OiB7CiAgICAgICAgcmVwb3J0ZWRfaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICByZWFzb246IG51bGwKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVwb3J0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnJlYXNvbiAhPSAnb3RoZXInICYmIHRoaXMucmVhc29uICE9ICdoYXJhc3NtZW50JykgewogICAgICAgIHRoaXMuYmxvY2tfcmVxdWVzdC5yZWFzb24gPSB0aGlzLnJlYXNvbgogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYmxvY2tfcmVxdWVzdC5yZWFzb24gPSB0aGlzLnJlYXNvbiArICI6ICIgKyB0aGlzLnJlYXNvbl90ZXh0CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlYXNvbikgeyAgICAgICAgCiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KGAke3RoaXMuJGFwaX0vYmxvY2stcmVxdWVzdHNgLCB0aGlzLmJsb2NrX3JlcXVlc3QpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGFjdGlvbnMubm90aWZ5LmluZm8oIllvdSBoYXZlIHN1Y2Nlc3NmdWxseSByZXBvcnRlZCAiICsgdGhpcy51c2VyLnVzZXJuYW1lICsgIi4gQW4gYWRtaW4gd2lsbCByZXZpZXcgeW91ciByZXBvcnQuIikKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgYWN0aW9ucy5ub3RpZnkuZXJyb3IoIkNvdWxkIG5vdCByZXBvcnQgIiArIHRoaXMudXNlci51c2VybmFtZSArICIuIikKICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICAgIHNob3dNb2RhbChyZWYpIHsKICAgICAgdGhpcy4kcmVmc1tyZWZdLnNob3coKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Report.vue","sourceRoot":"src/components/profile-components","sourcesContent":["<template>\n  <div>\n    <b-link style=\"text-decoration: underline\" class=\"text-secondary\" @click=\"showModal('report')\">Report User</b-link>\n\n    <b-modal ref=\"report\" title=\"Report User\" @ok=\"report\">\n      <div class=\"text-center my-3\">\n        Reporting a user will send a request to admin for review.<br>\n        The admin may choose to block the reported user, after which you will no longer be able to view their profile.\n      </div>\n      <div class=\"d-flex flex-column justify-content-center align-items-center text-center\">\n        <b-form-select\n          class=\"ml-2 col-5 col-8\"\n          v-model=\"reason\"\n          :options=\"reasons\"\n        ></b-form-select>\n        <b-form-group\n          label=\"Provide Reason:\"\n          label-for=\"input-1\"\n          v-if=\"reason === 'other'\"\n          class=\"w-75 my-3 mb-2\"\n        >\n          <b-form-textarea id=\"input-1\" v-model=\"reason_text\" class=\"my-3\"></b-form-textarea>\n        </b-form-group>\n        <b-form-group\n          label=\"Please Describe:\"\n          label-for=\"input-1\"\n          v-if=\"reason === 'harassment'\"\n          class=\"w-75 my-3 mb-2\"\n        >\n          <b-form-textarea id=\"input-1\" v-model=\"reason_text\" class=\"my-3\"></b-form-textarea>\n        </b-form-group>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport {actions} from '@/store'\n\nexport default {\n  props: [\"user\"],\n  data() {\n    return {\n      reasons: [\n        { value: null, text: 'Why are you reporting this user?' },\n        { value: \"fake profile\", text: \"This is a fake profile.\" },\n        { value: \"inappropriate content\", text: \"This user's account has inappropriate content.\" },\n        { value: \"harassment\", text: \"I feel that this user has harassed me.\" },\n        { value: \"too sexy\", text: \"This user is too sexy for their shirt.\" },\n        { value: \"other\", text: \"Other\" }\n      ],\n      reason: null,\n      reason_text: null,\n      block_request: {\n        reported_id: this.user.id,\n        reason: null\n      }\n    }\n  },\n  methods: {\n    report: function () {\n      if (this.reason != 'other' && this.reason != 'harassment') {\n        this.block_request.reason = this.reason\n      } else {\n        this.block_request.reason = this.reason + \": \" + this.reason_text\n      }\n\n      if (this.reason) {        \n        this.$http.post(`${this.$api}/block-requests`, this.block_request)\n        .then(res => {\n          actions.notify.info(\"You have successfully reported \" + this.user.username + \". An admin will review your report.\")\n        })\n        .catch(err => {\n          actions.notify.error(\"Could not report \" + this.user.username + \".\")\n        })\n      }\n    },\n\n    showModal(ref) {\n      this.$refs[ref].show()\n    }\n  }\n}\n</script>"]}]}